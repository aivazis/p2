# -*- Makefile -*-
#
# michael a.g. aïvázis <michael.aivazis@para-sim.com>
# (c) 1998-2019 all rights reserved


# the j2 package test suite
j2.pkg.tests.stem := journal.pkg
j2.pkg.tests.prerequisites := p2.pkg j2.pkg


# the {ansi_emulates} driver has some special cases
tests.journal.pkg.ansi_emulates.cases := ansi_emulates.yes ansi_emulates.no
# run with a value for TERM that indicates a terminal that does not support ANSI emulation
ansi_emulates.no.harness := TERM=foo
# tell the driver that it should expect an incompatible terminal
ansi_emulates.no.argv := 0
# run with a value for TERM that indicates a terminal that supports ANSI emulation
ansi_emulates.yes.harness := TERM=xterm
# tell the driver that it should expect a compatible terminal
ansi_emulates.yes.argv := 1


# clean up after the {file} test case
tests.journal.pkg.file_sanity.clean := file.out

# clean up after the {file_example} test case
tests.journal.pkg.file_example.clean := file_example.out


# end of file
